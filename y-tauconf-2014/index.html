<!DOCTYPE HTML>
<html lang="en">
<head>
	<title>Why Y?</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=792, user-scalable=no">
	<meta http-equiv="x-ua-compatible" content="ie=edge">
	<link rel="stylesheet" href="shower/themes/lambda/styles/screen.css">
</head>
<body class="list">
	<header class="caption">
		<h1>Why Y?</h1>
		<p>Uladzimir Abramchuk</p>
	</header>
	<section class="slide cover" id="Cover"><div>
		<h2>Why Y?</h2>
		<p>Uladzimir Abramchuk</p>
		<img src="pictures/cover.jpg" alt="Why Y?">
		<!--
			To apply styles to the certain slides
			set slide ID to get needed elements
			-->
		<style>
			#Cover img {
				width: 100%;
			}
			#Cover h2 {
				margin:100px 0 0;
				color:#f7923a;
				text-align:left;
				font-size:70px;
			}
			#Cover p {
				margin:10px 0 0 150px;
				text-align:left;
				color:#f7923a;
				font-style:italic;
				font-size:26px;
			}
			#Cover p a {
				color:#000;
			}
		</style>
	</div></section>
	<section class="slide cover"><div>
		<img src="pictures/hands.jpg" alt="Drawing hands" id="hands" />
		<style type="text/css">
			#hands {
			 	height: 100%;
			}
		</style>
		</div>
	</section>
	<section class="slide shout">
		<h2>Fixed point</h2>
	</section>
	<section class="slide cover"><div>
		<img src="pictures/calculator.jpg" alt="Calculator" id="calc" />
		<style type="text/css">
			#calc {
			 	height: 100%;
			}
		</style>
	</div></section>
	<section class="slide"><div>
		<h2>Cosine</h2>
		<pre>
			<code>0</code>
			<code class="next">cos 0 -> 1</code>
			<code class="next">cos(cos(0)) -> 0.540302...</code>
			<code class="next">cos(cos(cos(0))) -> 0.857553...</code>
			<code class="next">...</code>
			<code class="next">cos(cos(...cos(0)...)) -> 0.739085...</code>
		</pre>
	</div></section>
	<section class="slide"><div>
		<h2>Fixed point</h2>
		<pre><code>x = f(x) = f(f(x)) = f(f(f(x))) = ...</code></pre>
		<pre>
			<code>f(x) = cos(x) -> fixpoint = 0.739085...</code>
			<code class="next">f(x) = x<sup>2</sup> - 3x + 4 -> fixpoint = 2</code>
			<code class="next">f(x) = x<sup>2</sup> -> fixpoint = 0, fixpoint = 1</code>
			<code class="next">f(x) = x + 1 -> no fixpoint</code>
		</pre>
	</div></section>
	<section class="slide shout">
		<h2>Y combinator</h2>
	</section>
	<section class="slide">
		<div>
			<blockquote>Tiger got to hunt,<br>
				Bird got to fly;<br>
				Lisper got to sit and wonder, (Y (Y Y))?<br>
				<br>
				Tiger got to sleep,<br>
				Bird got to land;<br>
				Lisper got to tell himself he understand.<br>
			</blockquote>
    		<p>— Kurt Vonnegut, modified by Darius Bacon</p>
		</div>
	</section>
	<section class="slide"><div>
		<h2>Factorial</h2>
		<div>
			<pre>
				<code>function commonFactorial(n) {</code>
				<code>	return n === 0 ? 1 : n * commonFactorial(n-1);</code>
				<code>}</code>
			</pre>
		</div>
	</div></section>
	<section class="slide"><div>
		<h2>Non-recursive factorial</h2>
		<div>
			<pre>
				<code>function almostFactorial(f) {</code>
				<code>	return function(n) {</code>
				<code>		return n === 0 ? 1 : n * f(n-1);</code>
				<code>	}</code>
				<code>}</code>
			</pre>
		</div>
	</div></section>
	<section class="slide"><div>
		<h2>Fixed point</h2>
		<div><pre class="inline"><code>commonFactorial</code></pre> is a fixed point of <pre class="inline"><code>almostFactorial</code></pre>!</div>
		<br>
		<div>
			<pre>
				<code>almostFactorial(commonFactorial)(4) === commonFactorial(4);</code> 
				<code>almostFactorial(commonFactorial)(10) === commonFactorial(10);</code>
				<code>almostFactorial(commonFactorial)(17) === commonFactorial(17);</code>
				<code>...</code>
				<code class="next"><mark class="important">//But we are trying to calculate factorial without recursion!</mark></code>
			</pre>
		</div>
	</div></section>
	<section class="slide"><div>
		<h2>Y comes to help!</h2>
		<div>What if there exists function <pre class="inline"><code>Y</code></pre> that we could pass <pre class="inline"><code>almostFactorial</code></pre> to that would return the fixed point of it, i.e. <pre class="inline"><code>commonFactorial</code></pre> function?</div>
		<br>
		<pre>
			<code>Y(almostFactorial)(42) =></code>
			<code class="next"><span class="redex">commonFactorial</span>(42) =></code>
			<code class="next">almostFactorial(<span class="redex">commonFactorial</span>)(42) =></code>
			<code class="next">almostFactorial(Y(almostFactorial))(42)</code>
			<code class="next"><mark class="important">//So we do not need commonFactorial function at <em>all</em>!</mark></code>
		</pre>
	</div></section>
	<section class="slide"><div>
		<h2>Apply almostFactorial to itself</h2>
		<pre>
			<code>function almostFactorial(f) {</code>
			<code>	return function(n) {</code>
			<code>		return n === 0 ? 1 : n * <mark class="important redex">f(f)</mark>(n-1);</code>
			<code>	};</code>
			<code>}</code>
			<code>almostFactorial(almostFactorial)(5); // => 120</code></pre>
	</div></section>
	<section class="slide"><div>
		<h2>Isolate fixed point function</h2>
		<pre>
			<code>function almostFactorial(f) {</code>
			<code>	return function(x) {</code>
			<code>		var fact = function(q) {</code>
			<code>			return function(n) {</code>
			<code>				return n === 0 ? 1 : n * q(n-1);</code>
			<code>			};</code>
			<code>		};</code>
			<code>		return fact(f(f))(x);</code>
			<code>	};</code>
			<code>}</code>
		</pre>
	</div></section>
	<section class="slide"><div>
		<h2>Extract factorial calculation</h2>
		<pre>
			<code>function fact(f) {</code>
			<code>	return function(n) {</code>
			<code>		return n === 0 ? 1 : n * f(n-1);</code>
			<code>	};</code>
			<code>}</code>
		</pre>
	</div></section>
	<section class="slide"><div>
		<h2>Almost fixed point</h2>
		<pre>
			<code>function almostY(f) {</code>
			<code>  return function(x) {</code>
			<code>    return fact(f(f))(x);</code>
			<code>  };</code>
			<code>}</code>
			<code>almostY(almostY)(5); // => 120</code>
		</pre>
	</div></section>
	<section class="slide"><div>
		<h2>Fixed point combinator</h2>
		<pre>
			<code>function Y(f) {</code>
			<code>	var p = function(h) {</code>
			<code>		return function(x) {</code>
			<code>			return f(h(h))(x);</code>
			<code>		};</code>
			<code>	};</code>
			<code>	return p(p);</code>
			<code>}</code>
			<code>Y(fact)(6); // => 720</code>
		</pre>
	</div></section>
	<section class="slide"><div>
		<h2>More fixed point combinators</h2>
		<pre>
			<code>Z = λf.(λx.f (λv.x x v)) (λx.f (λv.x x v))</code>
			<code class="next">Y = λf.(λx.f (x x)) (λx.f (x x)) </code>
			<code class="next">Y = λf.(λx.x x) (λx.f (x x)) </code>
			<code class="next">Yk = (L L L L L L L L L L L L L L L L L L L L L L L L L L)
where:
L = λabcdefghijklmnopqstuvwxyzr. 
	(r (t h i s i s a f i x e d p o i n t c o m b i n a t o r))</code>
		</pre>
	</div></section>
	<section class="slide shout"><div>
		<h2>Wrappers</h2>
	</div></section>
	<section class="slide"><div>
		<h2>Simple wrapper</h2>
		<pre>
			<code>function wrap(f) {</code>
			<code>	return function(h) {</code>
			<code>		return function(n) {</code>
			<code>			var result = f(h)(n);</code>
			<code>			//do something here</code>
			<code>			return result;</code>
			<code>		};</code>
			<code>	};</code>
			<code>}</code>
		</pre>
	</div></section>
	<section class="slide"><div>
		<h2>Multiple wrappers</h2>
		<pre>
			<code>var logFact = logWrap(fact);</code>
			<code>var memoizeFact = memoizedWrap(logFact);</code>
			<code>var factorial = Y(memoizeFact);</code>
		</pre>
	</div></section>
	<section class="slide"><div>
		<h2>Heterogenous wrappers</h2>
	</div></section>
	<section class="slide shout"><div>
		<h2>Trampoline</h2>
	</div></section>
	<section class="slide cover"><div>
		<img src="pictures/trampoline.gif" id="trampoline" />
		<style type="text/css">
			#trampoline {
				position: relative;
				height: 100%;
				margin-top: -50px;
			}
		</style>
	</div></section>
	<section class="slide"><div>
		<h2>Trampoline</h2>
		<pre>
			<code>function fix(f) {</code>
			<code>	return function(t) {</code>
			<code>		var a = null;</code>
			<code>		for (a = function(t_) { t = t_; return a; }; </code>
			<code>			a != null; a = f(a)(t)))</code>
			<code>			;</code>
			<code>	};</code>
			<code>}</code>
		</pre>
	</div></section>
	<section class="slide"><div>
		<h2>Usages</h2>
		<ul>
			<li>Logging</li>
			<li>Memoization</li>
			<li>Trampolining</li>
			<li>Exceptions</li>
			<li>Continuations</li>
			<li>Type-checking</li>
			<li>...</li>
		</ul>
	</div></section>
	
	<div class="progress"><div></div></div>
	<script src="shower/shower.min.js"></script>
	<!-- Copyright © 2013 Yours Truly, Famous Inc. -->
	<!-- Photos by John Carey, fiftyfootshadows.net -->
</body>
</html>